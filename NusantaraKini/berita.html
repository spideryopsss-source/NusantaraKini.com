<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Berita</title>

    <!-- STYLE UTAMA -->
    <link rel="stylesheet" href="css/style.css">

    <style>
    /* ========================
        TOMBOL KEMBALI
    ========================= */
    .back-btn {
        display: inline-block;
        margin: 15px;
        padding: 10px 15px;
        background: black;
        color: white;
        text-decoration: none;
        border-radius: 6px;
        font-weight: bold;
        transition: 0.3s;
        font-size: 16px;
    }
    .dark-mode .back-btn {
        background: white;
        color: black;
    }

    /* DETAIL */
    .detail-img {
        width: 100%;
        max-width: 900px;
        border-radius: 10px;
        margin: 20px 0;
    }
    .detail-text {
        font-size: 16px;
        line-height: 1.7;
    }

    /* HEADER INFO */
    .top-info {
        display: flex;
        gap: 25px;
        font-size: 16px; /* diperbesar */
        margin-left: 25px;
        margin-top: -10px;
        font-weight: 600;
    }

    /* MODE BUTTON */
    .mode-btn {
        padding: 10px 12px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        background: #222;
        color: white;
        font-size: 22px;
        margin-left: 20px;
        transition: 0.3s;
    }
    </style>
</head>
<body>

    <!-- Tombol kembali -->
    <a href="index.html" class="back-btn">‚Üê Kembali</a>

    <!-- HEADER + MODE + INFO -->
    <header class="header">
        <div class="logo" id="logo-text">
            <span class="red">Nusantara</span>Kini
        </div>

        <div style="display:flex; align-items:center; gap:20px;">
            <!-- MODE BUTTON -->
            <button id="mode-btn" class="mode-btn">üåô</button>

            <!-- INFO JAM, CUACA DLL -->
            <div class="top-info">
                <span id="jam">00:00</span>
                <span id="lokasi">Mendeteksi lokasi...</span>
                <span id="cuaca">Cuaca...</span>
                <span id="temperature">--¬∞C</span>
            </div>
        </div>
    </header>

    <!-- Container Detail Berita -->
    <section class="detail-container">
        <h1 id="detail-judul"></h1>
        <img id="detail-img" class="detail-img">
        <div id="detail-isi" class="detail-text"></div>
    </section>

    <!-- LOAD DATA -->
    <script src="js/data.js"></script>

    <script>
    /* ==========================
       LOAD DETAIL BERITA
    =========================== */
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");

    const semuaBerita = Object.values(beritaData).flat();
    const data = semuaBerita.find(item => item.id == id);

    if (data) {
    document.getElementById("detail-judul").textContent = data.judul;
    document.getElementById("detail-img").src = data.img;

    // --- Perbaikan supaya paragraf tidak nyambung ---
    const isiContainer = document.getElementById("detail-isi");
    isiContainer.innerHTML = ""; // kosongkan isi lama

    // Jika isi berupa 1 paragraf panjang
    if (typeof data.isi === "string") {
        // Pisahkan paragraf dengan \n\n atau titik dua paragraf
        const paragrafList = data.isi.split("\n\n");

        paragrafList.forEach(p => {
            const tag = document.createElement("p");
            tag.textContent = p;
            isiContainer.appendChild(tag);
        });

    } 
    // Jika isi berupa array paragraf
    else if (Array.isArray(data.isi)) {
        data.isi.forEach(p => {
            const tag = document.createElement("p");
            tag.textContent = p;
            isiContainer.appendChild(tag);
        });
    }

} else {
    document.querySelector(".detail-container").innerHTML =
        "<h2>Berita tidak ditemukan.</h2>";
}


    /* ==========================
       MODE GELAP / TERANG
    =========================== */
    const modeBtn = document.getElementById("mode-btn");
    const logoText = document.getElementById("logo-nusantara"); // hanya bagian Nusantara

    modeBtn.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");

    if (document.body.classList.contains("dark-mode")) {
        modeBtn.textContent = "‚òÄÔ∏è";
        logoText.style.color = "white"; // hanya "Nusantara" berubah
    } else {
        modeBtn.textContent = "üåô";
        logoText.style.color = "red"; // kembali ke merah
    }
});


    /* ==========================
       JAM REALTIME
    =========================== */
    function updateJam() {
        const now = new Date();
        document.getElementById("jam").textContent =
            now.toLocaleTimeString("id-ID", { hour: "2-digit", minute: "2-digit" });
    }
    setInterval(updateJam, 1000);
    updateJam();

    /* ==========================
       LOKASI + CUACA + SUHU
    =========================== */
    function updateCuaca(lat, lon) {
        // Contoh cuaca static
        document.getElementById("cuaca").textContent = "Cerah Berawan";
        document.getElementById("temperature").textContent = "27¬∞C";
    }

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
            const lat = pos.coords.latitude.toFixed(2);
            const lon = pos.coords.longitude.toFixed(2);

            document.getElementById("lokasi").textContent = `Lokasi: ${lat}, ${lon}`;
            updateCuaca(lat, lon);
        }, () => {
            document.getElementById("lokasi").textContent = "Lokasi tidak diizinkan";
        });
    } else {
        document.getElementById("lokasi").textContent = "Lokasi tidak didukung";
    }
    </script>

</body>
</html>